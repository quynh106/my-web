<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>lab 1</title>
    <link rel="stylesheet" href="styles.css" />
    <style>
      form {
        background: #fff;
        padding: 20px;
        border-radius: 8px;
        box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
        max-width: 400px;
        margin: auto;
      }
      .form-group {
        margin-bottom: 15px;
      }
      .form-group label {
        margin-bottom: 5px;
        display: block;
      }

      .error {
        color: red;
        font-size: 0.9em;
      }
      .preview {
        margin-top: 10px;
        display: none;
        max-width: 100%;
        border-radius: 4px;
      }
      button {
        background-color: #28a745;
        border: none;
        color: white;
        border-radius: 4px;
        font-size: 16px;
        cursor: pointer;
      }
      button:disabled {
        background-color: #ccc;
      }
      button.secondary {
        background-color: #dc3545;
      }
    </style>
  </head>
  <body>
    <nav>
      <ul>
        <li><a href="index.html">Home</a></li>
        <li><a href="about.html">About</a></li>
        <li class="dropdown">
          <a href="" class="active">Labs</a>
          <div class="dropdown-content">
            <a href="lab1.html" class="lap active">Lab 1</a>
            <a href="lab2.html" class="lap">Lab 2</a>
            <a href="lab3.html" class="lap">Lab 3</a>
            <a href="https://quynh106.github.io/lab4/" class="lap">Lab 4</a>
            <a href="https://quynh106.github.io/lab5/" class="lap">Lab 5</a>
            <a href="https://quynh106.github.io/lab6/" class="lap">Lab 6</a>
          </div>
        </li>
      </ul>
    </nav>

    <h1>Lab 1</h1>
    <h3 style="text-align: center">Form User</h3>
    <form id="registrationForm">
      <div class="form-group">
        <label for="username">Username (required)</label>
        <input
          type="text"
          id="username"
          placeholder="Enter your username."
          maxlength="255"
          required
        />
        <div class="error" id="usernameError"></div>
      </div>

      <div class="form-group">
        <label for="password">Password (required)</label>
        <input
          type="password"
          id="password"
          placeholder="Enter your password."
          maxlength="255"
          required
        />
        <button type="button" onclick="togglePassword()">Show/Hide</button>
        <div class="error" id="passwordError"></div>
      </div>

      <div class="form-group">
        <label for="email">Email Address (required)</label>
        <input
          type="email"
          id="email"
          placeholder="Enter your email."
          maxlength="255"
          required
        />
        <div class="error" id="emailError"></div>
      </div>

      <div class="form-group">
        <label for="fullName">Full Name (optional)</label>
        <input
          type="text"
          id="fullName"
          placeholder="Enter your full name."
          maxlength="255"
        />
      </div>

      <div class="form-group">
        <label for="role">Role (required)</label>
        <select id="role" required>
          <option value="" selected disabled>Select your role</option>
          <option value="Admin">Admin</option>
          <option value="User">User</option>
          <!-- Add more roles as needed -->
        </select>
        <div class="error" id="roleError"></div>
      </div>

      <div class="form-group">
        <label for="profilePicture">Profile Picture (optional)</label>
        <input
          type="url"
          id="profilePicture"
          placeholder="Enter image URL"
          onchange="showPreview(this)"
        />
        <input
          type="file"
          id="fileUpload"
          accept="image/*"
          onchange="showPreview(this, true)"
        />
        <img id="imagePreview" class="preview" />
      </div>

      <div class="form-group">
        <label>Account Created At</label>
        <div id="accountCreatedAt">--</div>
      </div>

      <div class="form-group">
        <label>Last Updated At</label>
        <div id="lastUpdatedAt">--</div>
      </div>

      <button type="submit" id="submitBtn">Create Account</button>
      <button type="button" class="secondary" onclick="cancelAction()">
        Cancel
      </button>
    </form>

    <script>
      function togglePassword() {
        const passwordField = document.getElementById("password");
        passwordField.type =
          passwordField.type === "password" ? "text" : "password";
      }

      function showPreview(input, isFile = false) {
        const preview = document.getElementById("imagePreview");
        if (isFile) {
          const file = input.files[0];
          if (file) {
            const reader = new FileReader();
            reader.onload = function (e) {
              preview.src = e.target.result;
              preview.style.display = "block";
            };
            reader.readAsDataURL(file);
          }
        } else {
          preview.src = input.value;
          preview.style.display = "block";
        }
      }

      function cancelAction() {
        // Logic to cancel the form submission
        document.getElementById("registrationForm").reset();
      }

      // Optional: Add validation functions for unique username and email here
    </script>
  </body>
</html>
